<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white py-4">
          <div class="text-center">
            <h2 class="mb-1">
              <i class="fas fa-road me-2"></i>Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </h2>
            <p class="mb-0">Ø£Ø¶Ù Ø±Ø­Ù„ØªÙƒ ÙˆØ§Ø¬Ø°Ø¨ Ø§Ù„Ø±ÙƒØ§Ø¨ Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</p>
          </div>
        </div>

        <div class="card-body p-5">
          <%= form_with(model: @ride, local: true, class: "needs-validation", novalidate: true) do |form| %>
            <% if @ride.errors.any? %>
              <div class="alert alert-danger">
                <h5>ÙŠÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡ ÙŠØ¬Ø¨ ØªØµØ­ÙŠØ­Ù‡Ø§:</h5>
                <ul>
                  <% @ride.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                </ul>
              </div>
            <% end %>

            <div class="row">
              <div class="col-md-6 mb-4">
                <%= form.label :from_city, "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†Ø·Ù„Ù‚Ø©", class: "form-label fw-bold text-primary" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-map-marker-alt text-primary"></i>
                  </span>
                  <%= form.text_field :from_city, class: "form-control", required: true,
                                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†Ø·Ù„Ù‚Ø©" %>
                </div>
              </div>

              <div class="col-md-6 mb-4">
                <%= form.label :to_city, "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ§ØµÙ„Ø©", class: "form-label fw-bold text-primary" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-map-marker-alt text-primary"></i>
                  </span>
                  <%= form.text_field :to_city, class: "form-control", required: true,
                                    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ§ØµÙ„Ø©" %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-4">
                <%= form.label :departure_time, "ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©", class: "form-label fw-bold text-primary" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-calendar-alt text-primary"></i>
                  </span>
                  <%= form.datetime_local_field :departure_time, class: "form-control", required: true,
                                              min: Time.now.strftime("%Y-%m-%dT%H:%M") %>
                </div>
              </div>

              <div class="col-md-6 mb-4">
                <%= form.label :available_seats, "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ Ø§Ù„Ù…ØªØ§Ø­Ø©", class: "form-label fw-bold text-primary" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-users text-primary"></i>
                  </span>
                  <%= form.number_field :available_seats, class: "form-control", required: true,
                                      min: 1, max: 10, placeholder: "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯" %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-4">
                <%= form.label :price, "Ø³Ø¹Ø± Ø§Ù„Ù…Ù‚Ø¹Ø¯ (Ù„.Ø³)", class: "form-label fw-bold text-primary" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-money-bill-wave text-primary"></i>
                  </span>
                  <%= form.number_field :price, class: "form-control", required: true,
                                      min: 0, step: 500, placeholder: "Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©" %>
                </div>
              </div>
            </div>

            <div class="mb-4">
              <%= form.label :notes, "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©", class: "form-label fw-bold text-primary" %>
              <%= form.text_area :notes, class: "form-control", rows: 4,
                               placeholder: "Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù† Ø§Ù„Ø±Ø­Ù„Ø©ØŒ Ù†Ù‚Ø·Ø© Ø§Ù„ØªØ¬Ù…Ø¹ØŒ Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø©ØŒ Ø¥Ù„Ø®..." %>
              <div class="form-text">Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù„Ù„Ø±ÙƒØ§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†</div>
            </div>

            <div class="d-grid gap-2">
              <%= form.submit "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø©", class: "btn btn-primary btn-lg fw-bold py-3" %>
              <%= link_to "Ø¥Ù„ØºØ§Ø¡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©", rides_path, class: "btn btn-outline-secondary btn-lg" %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-body">
          <h5 class="text-primary mb-3">ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø© Ù†Ø§Ø¬Ø­Ø©</h5>
          <ul class="list-unstyled">
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Ø­Ø¯Ø¯ Ø³Ø¹Ø±Ø§Ù‹ Ù…Ù†Ø§Ø³Ø¨Ø§Ù‹ ÙŠØ¬Ø°Ø¨ Ø§Ù„Ø±ÙƒØ§Ø¨</li>
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ø¶Ø­Ø© Ø¹Ù† Ø§Ù„Ø±Ø­Ù„Ø©</li>
            <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©</li>
            <li><i class="fas fa-check-circle text-success me-2"></i>Ø­Ø¯Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯ Ø¨Ø¯Ù‚Ø©</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.card {
  border-radius: 15px;
  overflow: hidden;
}

.card-header {
  border-radius: 15px 15px 0 0 !important;
}

.form-control:focus {
  border-color: #0d6efd;
  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}

.input-group-text {
  background-color: #f8f9fa;
  border-right: none;
}

.btn-lg {
  border-radius: 12px;
  font-size: 1.1rem;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
  const forms = document.querySelectorAll('.needs-validation');
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  });

  // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªØ§Ø±ÙŠØ® Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙˆÙ…
  const now = new Date();
  const minDate = now.toISOString().slice(0, 16);
  document.getElementById('ride_departure_time').min = minDate;
});
</script>
